product:
  name: Red Hat Fuse
  abbreviation: Fuse-and-FIS
  stage: ${build.milestone}
  issueTrackerUrl: http://issues.jboss.org/browse/ENTESB
version: ${version.fuse.prefix}
milestone: ${build.milestone}
group: Red Hat Fuse - maven excludes extension test 8.5 TP3 ${build.milestone}
defaultBuildParameters:
  environmentId: 110
  buildScript: 'mvn -e -V -B -DskipTests -DfailIfNoTests=false -Dtest=false clean
    deploy'

builds:
- name: maven-exclude-extension-1.0-${version.fuse.prefix}
  project: jboss-fuse/maven-exclude-extension
    #fetchScmUrl: git%40github.com%3Ajboss-fuse%2Fmaven-exclude-extension.git
    #pushScmUrl: git%40github.com%3Ajboss-fuse%2Fmaven-exclude-extension.git
    #tag: maven-exclude-extension-${version.maven-exclude-extension}
    #buildCommand: ${maven-exclude-extension.buildCommand}
  scmUrl: git+ssh://code.engineering.redhat.com/jboss-fuse/maven-exclude-extension.git
  externalScmUrl: ssh://git@github.com/jboss-fuse/maven-exclude-extension.git
  scmRevision: maven-exclude-extension-${version.maven-exclude-extension}
  environmentId: 110
  pigYamlMetadata: Fuse dev build ${build.url} Fuse ${yaml.name} yaml config ${project.version}
  alignmentParameters:
    - ${maven-exclude-extension.pme.options}
  buildPodMemory: 8
  buildScript: >
    mvn -e -V -B -DskipTests -Dcheckstyle.skip=true -Pdeploy clean deploy dependency:tree

- name: maven-excludes-extension-test-1.0-${version.fuse.prefix}
  project: jboss-fuse/maven-excludes-extension-test
    #fetchScmUrl: git%40github.com%3Ajboss-fuse%2Fmaven-excludes-extension-test.git
    #pushScmUrl: git%40github.com%3Ajboss-fuse%2Fmaven-excludes-extension-test.git
    #tag: maven-exclude-extension-${version.maven-excludes-extension-test}
    #buildCommand: ${maven-excludes-extension-test.buildCommand}
  scmUrl: git+ssh://code.engineering.redhat.com/jboss-fuse/maven-excludes-extension-test.git
  externalScmUrl: ssh://git@github.com/jboss-fuse/maven-excludes-extension-test.git
  scmRevision: maven-excludes-extension-test-${version.maven-excludes-extension-test}
  environmentId: 110
  pigYamlMetadata: Fuse dev build ${build.url} Fuse ${yaml.name} yaml config ${project.version}
  alignmentParameters:
    - ${maven-exclude-extension.pme.options}
  buildPodMemory: 8
  buildScript: >
    mvn -e -V -B -DskipTests -Dcheckstyle.skip=true -Pdeploy clean deploy dependency:tree

outputPrefixes:
  releaseFile: fuse-maven-excludes-extension-test
  releaseDir: fuse-maven-excludes-extension-test

flow:
  licensesGeneration:
    strategy: GENERATE

  repositoryGeneration:
    strategy: BUILD_GROUP
  #licensesGeneration: gen.downloadFrom 'karaf' matching '.*license\.zip'
  #licensesGeneration: gen.generate()
  #repositoryGeneration: gen.downloadFrom 'karaf' matching '.*-m2repo\.zip'
  #javadocGeneration: gen.downloadFrom 'karaf' matching '.*javadoc\.zip'
  #addons:
  #runtimeDependenciesAnalyzer:
  #  downloadFrom: 'WildFly-Swarm'
  #  matching: '.*runtime-dependencies\.zip'
  #  referenceBuild: 'WildFly-Swarm'
